<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Btech-firstyear</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header>
        <ul class="menu">
            <li class="menu-i"><a href="./index.html">Home</a></li>
            <li class="menu-i"><a href="">BTech</a></li>
        </ul>
    </header>
    <h2>Engineering Mathematics-I</h2>
    <div class="papers Maths-I-papers">
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP/Btech/First Year/Engg Maths-I (2015).pdf"
            data-page="1"
          ></div>
        </div>
        <h3>Engg Maths-I (2015)</h3>
        <a
          href="QP/Btech/First Year/Engg Maths-I (2015).pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP/Btech/First Year/Engg Maths-I (2017).pdf"
            data-page="1"
          ></div>
        </div>
        <h3>Engg Maths-I (2017)</h3>
        <a
          href="QP/Btech/First Year/Engg Maths-I (2017).pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP/Btech/First Year/Engg Maths-I(2017).pdf"
            data-page="1"
          ></div>
        </div>
        <h3>Engg Maths-I(2017)</h3>
        <a
          href="QP/Btech/First Year/Engg Maths-I(2017).pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP/Btech/First Year/Engg Maths-I(2019).pdf"
            data-page="1"
          ></div>
        </div>
        <h3>Engg Maths-I(2019)</h3>
        <a
          href="QP/Btech/First Year/Engg Maths-I(2019).pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP/Btech/First Year/M-I(2018).pdf"
            data-page="1"
          ></div>
        </div>
        <h3>EngineeringMathematics-I(2018)</h3>
        <a
          href="QP/Btech/First Year/M-I(2018).pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div
          class="thumbnail"
          data-pdf="QP\Btech\First Year\EngineeringMathematics-I(2019) [Supplementary].pdf"
          data-page="1"
          ></div>
        </div>
        <h3>EngineeringMathematics-I(2019) [Supplementary]</h3>
        <a
          href="QP\Btech\First Year\EngineeringMathematics-I(2019) [Supplementary].pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
    </div>
    <div class="papers Maths-II-papers">
      <div class="paper">
        <div class="preview">
          <div
            class="thumbnail"
            data-pdf="QP\Btech\First Year\EngineeringMathematics-II(2019) [Supplementary].pdf"
            data-page="1"
          ></div>
        </div>
        <h3>Title 3</h3>
        <a
          href="QP\Btech\First Year\EngineeringMathematics-II(2019) [Supplementary].pdf"
          class="download-btn"
        >
          Download
        </a>
      </div>
    </div>

    <footer>

    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
    <script>
      // Function to fetch thumbnail from PDF using PDF.js
      async function fetchThumbnail(pdfUrl, pageNumber) {
        const pdf = await pdfjsLib.getDocument(pdfUrl).promise;
        const page = await pdf.getPage(pageNumber);
        const scale = 0.5; // Adjust scale as needed
        const viewport = page.getViewport({ scale });
        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        const renderContext = { canvasContext: context, viewport: viewport };
        await page.render(renderContext).promise;
        return canvas.toDataURL("image/png");
      }

      // Function to add thumbnail to the HTML
      async function addThumbnail(container) {
        try {
          const pdfUrl = container.dataset.pdf;
          const pageNumber = parseInt(container.dataset.page);
          const thumbnailUrl = await fetchThumbnail(pdfUrl, pageNumber);
          const img = document.createElement("img");
          img.src = thumbnailUrl;
          img.alt = `Thumbnail for Page ${pageNumber}`;
          const downloadLink = document.createElement("a");
          downloadLink.href = pdfUrl;
          downloadLink.textContent = "Download PDF";
          downloadLink.download = pdfUrl.split("/").pop();
          container.appendChild(img);
          container.appendChild(downloadLink);
        } catch (error) {
          console.error("Error adding thumbnail:", error);
        }
      }

      // Example usage: Add thumbnails for each container with class "thumbnail"
      const thumbnailContainers = document.querySelectorAll(".thumbnail");
      thumbnailContainers.forEach((container) => {
        addThumbnail(container);
      });
    </script>
</body>
</html>