<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dbatu-QP</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <ul class="menu">
        <li class="menu-i"><a href="./index.html">Home</a></li>
        <li class="menu-i">
          <div class="drop-down">
            <a href="./Btech-3rd-sem.html">CSE</a>
            <a href="#">Mechanical</a>
            <a href="#">Civil</a>
            <a href="#">E&TC</a>
            <a href="#">Electronics</a>
          </div>
          <a href="./Btech.html">BTech</a>
          <!-- Link to trigger dropdown -->
        </li>
        <li class="menu-i">
          <div class="drop-down">
            <a href="#">CSE</a>
            <a href="#">Mechanical</a>
            <a href="#">Civil</a>
            <a href="#">E&TC</a>
            <a href="#">Electronics</a>
          </div>
          <a href="#">BPharm</a>
        </li>
        <li class="menu-i">
          <div class="drop-down">
            <a href="#">CSE</a>
            <a href="#">Mechanical</a>
            <a href="#">Civil</a>
            <a href="#">E&TC</a>
            <a href="#">Electronics</a>
          </div>
          <a href="#">BArch</a>
        </li>
      </ul>
    </header>

    <!-- M3 -->
    <h2 style="margin-left: 20px">Engineering Mathematics - III</h2>
    <div class="papers">
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
    </div>

    <!-- CAO QP -->
    <h2 style="margin-left: 20px">Computer Architecture and Organization</h2>
    <div class="papers">
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 1</h3>
        <a href="file1.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 2</h3>
        <a href="file2.pdf" class="download-btn"> Download </a>
      </div>
      <div class="paper">
        <div class="preview">
          <div class="thumbnail" data-pdf="" data-page="1"></div>
        </div>
        <h3>Title 3</h3>
        <a href="file3.pdf" class="download-btn"> Download </a>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div>
        <p>&copy; 2024 DBATU-QP. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
    <script>
      // Function to fetch thumbnail from PDF using PDF.js
      async function fetchThumbnail(pdfUrl, pageNumber) {
        const pdf = await pdfjsLib.getDocument(pdfUrl).promise;
        const page = await pdf.getPage(pageNumber);
        const scale = 0.5; // Adjust scale as needed
        const viewport = page.getViewport({ scale });
        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        const renderContext = { canvasContext: context, viewport: viewport };
        await page.render(renderContext).promise;
        return canvas.toDataURL("image/png");
      }

      // Function to add thumbnail to the HTML
      async function addThumbnail(container) {
        try {
          const pdfUrl = container.dataset.pdf;
          const pageNumber = parseInt(container.dataset.page);
          const thumbnailUrl = await fetchThumbnail(pdfUrl, pageNumber);
          const img = document.createElement("img");
          img.src = thumbnailUrl;
          img.alt = `Thumbnail for Page ${pageNumber}`;
          container.appendChild(img);
        } catch (error) {
          console.error("Error adding thumbnail:", error);
        }
      }

      // Example usage: Add thumbnails for each container with class "thumbnail"
      const thumbnailContainers = document.querySelectorAll(".thumbnail");
      thumbnailContainers.forEach((container) => {
        addThumbnail(container);
      });
    </script>
  </body>
</html>
